#ifndef PERIPHERAL_LINKER_H		// if peripheral_linker.h is not defined
#define PERIPHERAL_LINKER_H

#include "sys/alt_sys_init.h"
#include "altera_epcq_controller2.h"
#include "stdint.h"

extern alt_epcq_controller2_dev *epcq_dev_ptr;							// External pointer to the EPCQ device
extern uint8_t subsector_buffer[4096]; 									// Define buffer to store data for a single sector
extern int mem_read_offset;												// Selects the Sub-sector to Read
extern int erase_offset;												// Selects the Sector to Erase (Only Erases a Single Sector)
extern int length;

void print_read_epcq_mem(uint8_t *subsector_buffer_array, int mem_read_offset, int sizeof_subesector_buffer);

uint8_t erase_epcq_sector(int erase_offset);

#endif /* PERIPHERAL_LINKER_H */


/*
 * USER DEFINED DATA FOR alt_sys_init.c
 *
 * Insert if not found
 *
 * Author: Dennis Wong Guan Ming Date: 23/8/2025
 *
 * EPCQ - the flash handle
 *
 * We create a pointer to this handle so that we can use this in main program
 *
 */

// Define and initialize the pointer to that static instance
// alt_epcq_controller2_dev *epcq_dev_ptr = &EPCQ;
